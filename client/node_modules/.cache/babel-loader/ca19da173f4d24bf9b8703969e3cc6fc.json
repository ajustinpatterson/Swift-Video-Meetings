{"ast":null,"code":"var _jsxFileName = \"/Users/justinpatterson/git-stuff/codeworks/projects/name-to-be-changed/client/src/components/Landing/Landing.tsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { GoogleLogin } from 'react-google-login';\nimport logo from '../../assets/swift-logo.png';\nimport './Landing.css';\nconst apiId = '770694473973-nsm7s39sp1tvm3jpg6d3pk7ln309gvbr.apps.googleusercontent.com';\n\nconst Landing = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n  const history = useHistory();\n  const active = localStorage.getItem('loggedIn');\n  const [createUser, newUser] = useMutation(CREATE_USER);\n\n  const handleClick = () => {\n    history.push('/powderroom');\n  };\n\n  const responseGoogle = async response => {\n    try {\n      console.log(response);\n\n      if (response) {\n        setUserName(response.profileObj.name);\n        createUser({\n          variables: {\n            userDetails: {\n              email: response.profileObj.email,\n              familyName: response.profileObj.familyName,\n              givenName: response.profileObj.givenName,\n              googleId: response.profileObj.googleId,\n              imageUrl: response.profileObj.imageUrl,\n              name: response.profileObj.name\n            }\n          }\n        });\n        localStorage.setItem('loggedIn', `${loggedIn}`);\n        setLoggedIn(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"landing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), !active ? /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: apiId,\n    render: renderProps => /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      onClick: renderProps.onClick,\n      disabled: renderProps.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"Login\"),\n    buttonText: \"Login\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Start Meeting\"));\n};\n\nexport default Landing;","map":{"version":3,"sources":["/Users/justinpatterson/git-stuff/codeworks/projects/name-to-be-changed/client/src/components/Landing/Landing.tsx"],"names":["React","useState","useHistory","useMutation","GoogleLogin","logo","apiId","Landing","loggedIn","setLoggedIn","userName","setUserName","history","active","localStorage","getItem","createUser","newUser","CREATE_USER","handleClick","push","responseGoogle","response","console","log","profileObj","name","variables","userDetails","email","familyName","givenName","googleId","imageUrl","setItem","err","renderProps","onClick","disabled"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  BrowserRouter,\n  Router,\n  Route,\n  useHistory,\n  Link,\n} from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport logo from '../../assets/swift-logo.png';\nimport './Landing.css';\n\nconst apiId =\n  '770694473973-nsm7s39sp1tvm3jpg6d3pk7ln309gvbr.apps.googleusercontent.com';\n\nconst Landing = () => {\n  const [loggedIn, setLoggedIn] = useState<boolean>(false);\n  const [userName, setUserName] = useState('');\n  const history = useHistory();\n  const active = localStorage.getItem('loggedIn');\n  const [createUser, newUser] = useMutation(CREATE_USER);\n\n  const handleClick = () => {\n    history.push('/powderroom');\n  };\n\n  const responseGoogle = async (response: any) => {\n    try {\n      console.log(response);\n      if (response) {\n        setUserName(response.profileObj.name);\n        createUser({\n          variables: {\n            userDetails: {\n              email: response.profileObj.email,\n              familyName: response.profileObj.familyName,\n              givenName: response.profileObj.givenName,\n              googleId: response.profileObj.googleId,\n              imageUrl: response.profileObj.imageUrl,\n              name: response.profileObj.name,\n            },\n          },\n        });\n        localStorage.setItem('loggedIn', `${loggedIn}`);\n        setLoggedIn(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"landing\">\n      <img src={logo} alt=\"Logo\" />\n      {!active ? (\n        <GoogleLogin\n          clientId={apiId}\n          render={(renderProps) => (\n            <button\n              className=\"button\"\n              onClick={renderProps.onClick}\n              disabled={renderProps.disabled}\n            >\n              Login\n            </button>\n          )}\n          buttonText=\"Login\"\n          onSuccess={responseGoogle}\n          onFailure={responseGoogle}\n          cookiePolicy={'single_host_origin'}\n        />\n      ) : (\n        <button className=\"button\" onClick={handleClick}>\n          Start Meeting\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}