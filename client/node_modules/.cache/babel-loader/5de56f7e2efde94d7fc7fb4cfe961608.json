{"ast":null,"code":"var _jsxFileName = \"/Users/justinpatterson/git-stuff/codeworks/projects/name-to-be-changed/client/src/components/Landing/Landing.tsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { GoogleLogin } from 'react-google-login';\nimport logo from '../../assets/swift-logo-big.png';\nimport { CREATE_USER } from '../../graphql/Client';\nimport './Landing.scss';\nconst apiId = '770694473973-nsm7s39sp1tvm3jpg6d3pk7ln309gvbr.apps.googleusercontent.com';\n\nconst Landing = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n  const history = useHistory();\n  const active = localStorage.getItem('loggedIn');\n  const [createUser, newUser] = useMutation(CREATE_USER);\n  const [roomId, setRoomId] = useState('');\n\n  const handleClick = () => {\n    history.push('/powderroom');\n  };\n\n  const roomSubmit = event => {\n    event.preventDefault();\n    setRoomId('');\n    history.push('/powderroom');\n  };\n\n  const handleChange = event => {\n    setRoomId(event.target.value);\n  };\n\n  const responseGoogle = async response => {\n    try {\n      console.log(response);\n\n      if (response) {\n        setUserName(response.profileObj.name);\n        createUser({\n          variables: {\n            userDetails: {\n              email: response.profileObj.email,\n              familyName: response.profileObj.familyName,\n              givenName: response.profileObj.givenName,\n              googleId: response.profileObj.googleId,\n              imageUrl: response.profileObj.imageUrl,\n              name: response.profileObj.name\n            }\n          }\n        });\n        localStorage.setItem('loggedIn', `${loggedIn}`);\n        setLoggedIn(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"landing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"Logo\",\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hero-stack\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Fast video meetings made simple.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Meet Swift. Fast calls. Simple.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spacer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), !active ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-stack\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: apiId,\n    render: renderProps => /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      onClick: renderProps.onClick,\n      disabled: renderProps.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Login\"),\n    buttonText: \"Login\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-stack\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Start\"), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    onSubmit: roomSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: roomId,\n    onChange: handleChange,\n    placeholder: \"Enter Room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nexport default Landing;","map":{"version":3,"sources":["/Users/justinpatterson/git-stuff/codeworks/projects/name-to-be-changed/client/src/components/Landing/Landing.tsx"],"names":["React","useState","useHistory","useMutation","GoogleLogin","logo","CREATE_USER","apiId","Landing","loggedIn","setLoggedIn","userName","setUserName","history","active","localStorage","getItem","createUser","newUser","roomId","setRoomId","handleClick","push","roomSubmit","event","preventDefault","handleChange","target","value","responseGoogle","response","console","log","profileObj","name","variables","userDetails","email","familyName","givenName","googleId","imageUrl","setItem","err","renderProps","onClick","disabled"],"mappings":";AAAA,OAAOA,KAAP,IAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAIEC,UAJF,QAMO,kBANP;AAOA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,WAAT,QAA0C,oBAA1C;AACA,OAAOC,IAAP,MAAiB,iCAAjB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,OAAO,gBAAP;AAEA,MAAMC,KAAK,GACT,0EADF;;AAGA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAU,KAAV,CAAxC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAS,EAAT,CAAxC;AACA,QAAMY,OAAO,GAAGX,UAAU,EAA1B;AACA,QAAMY,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;AACA,QAAM,CAACC,UAAD,EAAaC,OAAb,IAAwBf,WAAW,CAACG,WAAD,CAAzC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAS,EAAT,CAApC;;AAEA,QAAMoB,WAAW,GAAG,MAAM;AACxBR,IAAAA,OAAO,CAACS,IAAR,CAAa,aAAb;AACD,GAFD;;AAIA,QAAMC,UAAU,GAAIC,KAAD,IAAgB;AACjCA,IAAAA,KAAK,CAACC,cAAN;AAEAL,IAAAA,SAAS,CAAC,EAAD,CAAT;AACAP,IAAAA,OAAO,CAACS,IAAR,CAAa,aAAb;AACD,GALD;;AAOA,QAAMI,YAAY,GAAIF,KAAD,IAAgB;AACnCJ,IAAAA,SAAS,CAACI,KAAK,CAACG,MAAN,CAAaC,KAAd,CAAT;AACD,GAFD;;AAIA,QAAMC,cAAc,GAAG,MAAOC,QAAP,IAAyB;AAC9C,QAAI;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAIA,QAAJ,EAAc;AACZlB,QAAAA,WAAW,CAACkB,QAAQ,CAACG,UAAT,CAAoBC,IAArB,CAAX;AACAjB,QAAAA,UAAU,CAAC;AACTkB,UAAAA,SAAS,EAAE;AACTC,YAAAA,WAAW,EAAE;AACXC,cAAAA,KAAK,EAAEP,QAAQ,CAACG,UAAT,CAAoBI,KADhB;AAEXC,cAAAA,UAAU,EAAER,QAAQ,CAACG,UAAT,CAAoBK,UAFrB;AAGXC,cAAAA,SAAS,EAAET,QAAQ,CAACG,UAAT,CAAoBM,SAHpB;AAIXC,cAAAA,QAAQ,EAAEV,QAAQ,CAACG,UAAT,CAAoBO,QAJnB;AAKXC,cAAAA,QAAQ,EAAEX,QAAQ,CAACG,UAAT,CAAoBQ,QALnB;AAMXP,cAAAA,IAAI,EAAEJ,QAAQ,CAACG,UAAT,CAAoBC;AANf;AADJ;AADF,SAAD,CAAV;AAYAnB,QAAAA,YAAY,CAAC2B,OAAb,CAAqB,UAArB,EAAkC,GAAEjC,QAAS,EAA7C;AACAC,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF,KAnBD,CAmBE,OAAOiC,GAAP,EAAY;AACZZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACD;AACF,GAvBD;;AAyBA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEtC,IAAV;AAAgB,IAAA,GAAG,EAAC,MAApB;AAA2B,IAAA,SAAS,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAFF,eAGE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIG,CAACS,MAAD,gBACC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAEP,KADZ;AAEE,IAAA,MAAM,EAAGqC,WAAD,iBACN;AACE,MAAA,SAAS,EAAC,QADZ;AAEE,MAAA,OAAO,EAAEA,WAAW,CAACC,OAFvB;AAGE,MAAA,QAAQ,EAAED,WAAW,CAACE,QAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ;AAWE,IAAA,UAAU,EAAC,OAXb;AAYE,IAAA,SAAS,EAAEjB,cAZb;AAaE,IAAA,SAAS,EAAEA,cAbb;AAcE,IAAA,YAAY,EAAE,oBAdhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,gBAoBC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,OAAO,EAAER,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAIE;AAAM,IAAA,YAAY,EAAC,KAAnB;AAAyB,IAAA,QAAQ,EAAEE,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEJ,MAFT;AAGE,IAAA,QAAQ,EAAEO,YAHZ;AAIE,IAAA,WAAW,EAAC,YAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAJF,CAxBJ,CAFF,CADF;AA8CD,CA9FD;;AAgGA,eAAelB,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  BrowserRouter,\n  Router,\n  Route,\n  useHistory,\n  Link,\n} from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport logo from '../../assets/swift-logo-big.png';\nimport { CREATE_USER } from '../../graphql/Client';\nimport './Landing.scss';\n\nconst apiId =\n  '770694473973-nsm7s39sp1tvm3jpg6d3pk7ln309gvbr.apps.googleusercontent.com';\n\nconst Landing = () => {\n  const [loggedIn, setLoggedIn] = useState<boolean>(false);\n  const [userName, setUserName] = useState<string>('');\n  const history = useHistory();\n  const active = localStorage.getItem('loggedIn');\n  const [createUser, newUser] = useMutation(CREATE_USER);\n  const [roomId, setRoomId] = useState<string>('');\n\n  const handleClick = () => {\n    history.push('/powderroom');\n  };\n\n  const roomSubmit = (event: any) => {\n    event.preventDefault();\n\n    setRoomId('');\n    history.push('/powderroom');\n  };\n\n  const handleChange = (event: any) => {\n    setRoomId(event.target.value);\n  };\n\n  const responseGoogle = async (response: any) => {\n    try {\n      console.log(response);\n      if (response) {\n        setUserName(response.profileObj.name);\n        createUser({\n          variables: {\n            userDetails: {\n              email: response.profileObj.email,\n              familyName: response.profileObj.familyName,\n              givenName: response.profileObj.givenName,\n              googleId: response.profileObj.googleId,\n              imageUrl: response.profileObj.imageUrl,\n              name: response.profileObj.name,\n            },\n          },\n        });\n        localStorage.setItem('loggedIn', `${loggedIn}`);\n        setLoggedIn(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"landing\">\n      <img src={logo} alt=\"Logo\" className=\"logo\" />\n      <div className=\"hero-stack\">\n        <h1>Fast video meetings made simple.</h1>\n        <p>Meet Swift. Fast calls. Simple.</p>\n        <div className=\"spacer\"></div>\n        {!active ? (\n          <div className=\"btn-stack\">\n            <GoogleLogin\n              clientId={apiId}\n              render={(renderProps) => (\n                <button\n                  className=\"button\"\n                  onClick={renderProps.onClick}\n                  disabled={renderProps.disabled}\n                >\n                  Login\n                </button>\n              )}\n              buttonText=\"Login\"\n              onSuccess={responseGoogle}\n              onFailure={responseGoogle}\n              cookiePolicy={'single_host_origin'}\n            />\n          </div>\n        ) : (\n          <div className=\"btn-stack\">\n            <button className=\"button\" onClick={handleClick}>\n              Start\n            </button>\n            <form autoComplete=\"off\" onSubmit={roomSubmit}>\n              <label>\n                <input\n                  type=\"text\"\n                  value={roomId}\n                  onChange={handleChange}\n                  placeholder=\"Enter Room\"\n                />\n              </label>\n            </form>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}